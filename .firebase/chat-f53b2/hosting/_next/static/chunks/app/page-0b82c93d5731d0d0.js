(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1153:function(e,t,s){Promise.resolve().then(s.bind(s,2909))},2909:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var l=s(7437),a=s(8121);let n=(0,s(6142).ZF)({apiKey:"AIzaSyB5stfrfaLePm38CqARYOrwIDgc5mpevko",authDomain:"chat-f53b2.firebaseapp.com",projectId:"chat-f53b2",storageBucket:"chat-f53b2.appspot.com",messagingSenderId:"995126412197",appId:"1:995126412197:web:a10f60197faf080a885e4c"}),r=(0,a.ad)(n);var o=s(2265);let i=e=>{let{getRootProps:t,getInputProps:s,isFocused:a,isHovered:n,setIsHovered:r,fileName:i}=e,c=(0,o.useMemo)(()=>({flex:1,display:"flex",width:"100%",height:"50%",justifyContent:"center",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:16,borderColor:a?"#1e40af":"#94a3b8",borderStyle:"dashed",backgroundColor:n?"#f0f0f0":"#ffffff",color:"#94a3b8",outline:"none",transition:"border .24s ease-in-out, background-color .24s ease-in-out"}),[a,n]);return(0,l.jsxs)("div",{...t({style:c}),onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[(0,l.jsx)("input",{className:"w-full ",...s()}),(0,l.jsx)("div",{children:i||(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,l.jsx)("svg",{"aria-hidden":"true",className:"w-10 h-10 mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,l.jsxs)("h1",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,l.jsx)("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),(0,l.jsx)("span",{className:"text-xs",children:"only for txt file"})]})})]})};async function c(e,t,s){try{await (0,a.ET)((0,a.hJ)(r,"chat"),{fileName:e,wordCount:t,fileContent:s})}catch(e){console.log(e,"Fail to upload")}}let d=(0,s(2020).Ue)(e=>({wordCounts:[],calculateWord:(t,s)=>{let l=t.split("\n"),a={},n="";l.forEach(e=>{let t=e.trim().split(/\s+/);t.length>0&&(t[0].startsWith("<")&&t[0].endsWith(">")?a[n=t[0].slice(1,-1)]=(a[n]||0)+t.length-1:a[n]=(a[n]||0)+t.length)});let r=Object.entries(a).sort((e,t)=>t[1]-e[1]).map(e=>{let[t,s]=e;return"".concat(t,": ").concat(s+" words")});c(s,r,l),e({wordCounts:r})}}));var u=s(7453);let h=e=>(0,l.jsx)("div",{className:"flex flex-col justify-center items-center ",children:Object.entries(e).map(e=>{let[t,s]=e;return(0,l.jsx)("ul",{children:s.map((e,t)=>{let[s,a]=e.split(": ");return(0,l.jsx)("li",{children:"".concat(s,": ").concat(a)},t)})},t)})}),x=e=>{let{isLoading:t,data:s,selectedButton:a,buttonHandler:n}=e;return t?(0,l.jsx)("h1",{children:"Loading....."}):s&&s.map((e,t)=>(0,l.jsx)("button",{onClick:()=>n(e.id),className:"h-8 bg-cyan-100 rounded-xl border-2 ".concat(e.id===a?"border-cyan-500":""),children:e.fileName},t))},f=e=>{let{data:t,selectedButton:s}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-xl text-slate-700 font-bold",children:"Output: "}),t&&t.map((e,t)=>(0,l.jsx)("div",{className:"flex flex-col",children:e.id===s&&(0,l.jsx)("ul",{children:e.wordCount.map((e,t)=>{let[s,a]=e.split(": ");return(0,l.jsx)("li",{children:"".concat(s,": ").concat(a)},t)})})},t))]})};function p(){let{wordCounts:e,calculateWord:t}=d(),[s,n]=(0,o.useState)(!1),[c,p]=(0,o.useState)(""),[m,j]=(0,o.useState)(),[g,b]=(0,o.useState)(),[v,w]=(0,o.useState)(),N=async()=>{try{b(!0);let e=await (0,a.PL)((0,a.hJ)(r,"chat")),t=[];return e.forEach(e=>{t.push({id:e.id,...e.data()})}),j(t),m}catch(e){return null}finally{b(!1)}},y=(0,o.useCallback)(e=>{e.forEach(e=>{let s=new FileReader;s.onabort=()=>console.log("file reading was aborted"),s.onerror=()=>console.log("file reading has failed"),s.onload=async()=>{let l=s.result;p(e.name),t(l,e.name)},s.readAsText(e)})},[e]),{getRootProps:C,getInputProps:k,isFocused:E}=(0,u.uI)({onDrop:y,accept:{"text/html":[".txt"]}});return(0,o.useEffect)(()=>{N()},[e]),(0,l.jsxs)("main",{className:"w-full h-screen grid grid-cols-2 gap-6 p-10",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(i,{getRootProps:C,getInputProps:k,isFocused:E,isHovered:s,setIsHovered:n,fileName:c,setFileName:p}),(0,l.jsxs)("div",{className:"pt-8 text-xl text-blue-400 font-bold",children:[(0,l.jsx)("h1",{children:"Output:"}),(0,l.jsx)(h,{wordCounts:e})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-xl text-blue-400 font-bold",children:m?"History List":"Empty"}),(0,l.jsx)("div",{className:"p-10 grid grid-cols-4 gap-6 bg-slate-200 rounded-2xl",children:(0,l.jsx)(x,{isLoading:g,data:m,selectedButton:v,buttonHandler:e=>{w(e)}})}),(0,l.jsxs)("div",{className:"p-10 grid grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-xl text-slate-700 font-bold",children:"Input: "}),m&&m.map((e,t)=>e.id===v&&e.fileContent&&e.fileContent.map((e,t)=>(0,l.jsx)("h1",{children:e},t)))]}),(0,l.jsx)(f,{data:m,selectedButton:v})]})]})]})}}},function(e){e.O(0,[358,211,971,69,744],function(){return e(e.s=1153)}),_N_E=e.O()}]);